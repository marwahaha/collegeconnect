
permhosts = new Array();
permhosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "First",
    phoneNumber: "+13103879406",
    emailAddress: "andreaskari@gmail.com",
    name: "Andre A",
    password: "991A664DA8",
    callingHours: ["0100", "2300"],
    major: 'EECS',
    cheers: '104',
    rating: '4.9',
    degree: 'BS',

});
permhosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+19164024661",
    emailAddress: "kmar@berkeley.edu",
    name: "Kunal M",
    password: "991A664DA8",
    callingHours: ["0100", "2300"],
    major: 'Physics',
    cheers: '738',
    rating: '5.0',
    degree: 'BS',

});
permhosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "zz@berkeley.edu",
    name: "Zach Z",
    password: "991A664DA8",
    callingHours: ["0100", "2300"],
    major: 'EECS',
    cheers: '1,133',
    rating: '5.0',
    degree: 'BS',

});

hosts = new Array();

hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "hannahsim@gmail.com",
    name: "Hannah S",
    password: "4991DDAD0C",
    callingHours: ["0800", "1000"],
    major: 'Psychology',
    cheers: '1104',
    rating: '4.5',
    degree: 'BS',

});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Graduate",
    phoneNumber: "+13103879406",
    emailAddress: "brandonb@gmail.com",
    name: "Brandon B",
    password: "64D7F01E5D",
    callingHours: ["1700", "1900"],
    major: '',
    cheers: '1781',
    rating: '3.8',
    degree: 'M.Eng. Candidate',

});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Second",
    phoneNumber: "+13103879406",
    emailAddress: "melolovesu@gmail.com",
    name: "Melody A",
    password: "59C05B5FA3",
    callingHours: ["1300", "1400"],
    major: 'English',
    cheers: '571',
    rating: '4.4',
    degree: 'BS',
});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "First",
    phoneNumber: "+13103879406",
    emailAddress: "guptadesai@gmail.com",
    name: "Gupta D",
    password: "75C8236AC2",
    callingHours: ["0600", "0800"],
    major: 'EE',
    cheers: '812',
    rating: '3.2',
    degree: 'BS',
});
hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "First",
    phoneNumber: "+13103879406",
    emailAddress: "lailajenson@gmail.com",
    name: "Laila J",
    password: "A9974D0B7A",
    callingHours: ["1100", "1300"],
    major: 'History',
    cheers: '341',
    rating: '3.9',
    degree: 'BS',

});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Fourth",
    phoneNumber: "+13103879406",
    emailAddress: "jtisdale@gmail.com",
    name: "Jasmine T",
    password: "408DFA2769",
    callingHours: ["1300", "1500"],
    major: 'Business',
    cheers: '104',
    rating: '4.2',
    degree: 'BS',

});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Fifth",
    phoneNumber: "+13103879406",
    emailAddress: "n.bryanson@gmail.com",
    name: "Nathan B",
    password: "D2A9750CF1",
    callingHours: ["0300", "0500"],
    major: 'Biology',
    cheers: '2,315',
    rating: '3.2',
    degree: 'BS',

});
hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "Second",
    phoneNumber: "+13103879406",
    emailAddress: "arianaiscool@gmail.com",
    name: "Ariana",
    password: "6B5EF579FB",
    callingHours: ["2100", "2300"],
    major: 'Astronomy',
    cheers: '954',
    rating: '3.9',
    degree: 'BS',

});
hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "Graduate",
    phoneNumber: "+13103879406",
    emailAddress: "kaylaaaaaa@gmail.com",
    name: "Kayla",
    password: "C80954873B",
    callingHours: ["2000", "2200"],
    major: 'EE',
    cheers: '2194',
    rating: '4.2',
    degree: 'Ph.D Candidate',

});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "john@berkeley.edu",
    name: "John Dagdelen",
    password: "1234567890",
    callingHours: ["0800", "1400"],
    major: "EECS",
    cheers: '1,541',
    rating: '5.0',
    degree: 'BS',

});
hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "jesmin@gmail.com",
    name: "Jesmin Ngo",
    password: "1234567890",
    callingHours: ["1000", "1200"],
    major: "Biology",
    cheers: '1,217',
    rating: '4.1',
    degree: 'BA',

});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Fourth",
    phoneNumber: "+13103879406",
    emailAddress: "michelle@scu.edu",
    name: "Michelle Lin",
    password: "1234567890",
    callingHours: ["0400", "2200"],
    major: "History",
    cheers: '549',
    rating: '4.3',
    degree: 'BA',
});
hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "Fifth",
    phoneNumber: "+13103879406",
    emailAddress: "icmandy@stanford.edu",
    name: "Mandy Cheshire",
    password: "1234567890",
    callingHours: ["1200", "2000"],
    major: "Business",
    cheers: '2322',
    rating: '4.6',
    degree: 'BA',
});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "ericphil@berkeley.edu",
    name: "Eric Phillips",
    password: "1234567890",
    callingHours: ["0800", "1800"],
    major: "Economics",
    cheers: '832',
    rating: '4.1',
    degree: 'BA',
});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Second",
    phoneNumber: "+13103879406",
    emailAddress: "emmalup@berkeley.edu",
    name: "Emma Lupin",
    password: "1234567890",
    callingHours: ["1200", "2000"],
    major: "Biology",
    cheers: '1311',
    rating: '3.9',
    degree: 'BS',
});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Fourth",
    phoneNumber: "+13103879406",
    emailAddress: "sander@berkeley.edu",
    name: "Sander Griffin",
    password: "1234567890",
    callingHours: ["0400", "1600"],
    major: "Chemistry",
    cheers: '279',
    rating: '4.2',
    degree: 'BS',
});
hosts.push({
    school: "Stanford",
    problemFocus: "",
    year: "Fourth",
    phoneNumber: "+13103879406",
    emailAddress: "jzau@stanford.edu",
    name: "Jessica Zau",
    password: "1234567890",
    callingHours: ["1600", "2300"],
    major: "Art History",
    cheers: '1593',
    rating: '4.6',
    degree: 'BA',
});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "kavyaw@scu.edu",
    name: "Kavya Walia",
    password: "1234567890",
    callingHours: ["0100", "1300"],
    major: "Physics",
    cheers: '3409',
    rating: '4.9',
    degree: 'BS',
});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Fourth",
    phoneNumber: "+13103879406",
    emailAddress: "meyers@berkeley.edu",
    name: "Andy Meyers",
    password: "1234567890",
    callingHours: ["1000", "1600"],
    major: "Sociology",
    cheers: '541',
    rating: '3.9',
    degree: 'BA',
});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Graduate",
    phoneNumber: "+13103879406",
    emailAddress: "dkraus@scu.edu",
    name: "David Kraus",
    password: "1234567890",
    callingHours: ["1000", "1600"],
    major: "Psychology",
    cheers: '91',
    rating: '4.5',
    degree: 'BA',
});
hosts.push({
    school: "UC Berkeley",
    problemFocus: "",
    year: "Third",
    phoneNumber: "+13103879406",
    emailAddress: "helena@berkeley.edu",
    name: "Helen Abrams",
    password: "1234567890",
    callingHours: ["0800", "1700"],
    major: "Math",
    cheers: '431',
    rating: '4.4',
    degree: 'BA',
});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "First",
    phoneNumber: "+13103879406",
    emailAddress: "jenm@gmail.com",
    name: "Jenna M",
    password: "64D7F01E5D",
    callingHours: ["1000", "1400"],
    major: 'Engineering',
    cheers: '3121',
    rating: '4.8',
    degree: 'BS',

});
hosts.push({
    school: "Santa Clara",
    problemFocus: "",
    year: "Fifth",
    phoneNumber: "+13103879406",
    emailAddress: "julianm@scu.edu",
    name: "Julian M",
    password: "64D7F01E5D",
    callingHours: ["0600", "1200"],
    major: 'Business',
    cheers: '1562',
    rating: '4.6',
    degree: 'BA',

});




function getsupport() {
  year = $("#classyear").val();
  school = $("#school").val();
  topic = $(".topicinput").val();
  adviceorwhat = $("#adviceorwhat").val();
  curhosts = _.where(hosts, {"year": year, 'school': school}).concat(permhosts);
  localStorage.setItem('user-search', JSON.stringify({'year': year, 'school': school, 'topic':topic, 'what': adviceorwhat, 'curhosts': curhosts}));
  console.log("hi");
  $("body").fadeOut(800, function() {
    document.location.href="match.html";
  });
  
}

function gradyear(year) {
  if (year == "First") {return "18";}
  if (year == "Second") {return "17";}
  if (year == "Third") {return "16";}
  if (year == "Fourth") {return "15";}
  if (year == "Fifth") {return "15";}
  return false;
}


function gradtext(ho) {
  if (gradyear(ho.year)) {
    return ho.major + ' \'' + gradyear(ho.year) + ', ' + ho.degree;
  } else {
    return ho.major + ' ' + ho.degree;
  }
}

function callok(ho) {
  curdate = new Date();
  curtime = curdate.getHours()*100 + curdate.getMinutes();
  return ((curtime > parseInt(ho.callingHours[0])) && (curtime < parseInt(ho.callingHours[1])));
}


function addmatches() {
  info = JSON.parse(localStorage.getItem('user-search'));
  console.log(info);
  
  //used to debug, see all users in system
  // info.curhosts = hosts.concat(permhosts);
  
  for (var h in info.curhosts) {
    ho = info.curhosts[h];
    if (callok(ho)) {
      callme = '<div onclick="calling(\'' + ho.phoneNumber + '\')" id="call-no-morph" class="call-btn xsmall"> <i class="fa fa-phone"></i> Call Me</div>';
    } else {
      callme = '';
    }
    img = ho.img || 'http://cache.spradshirt.net/Public/Common/images/profile-pic-placeholder_130x130.png';

  $(".main-contain").append('\
              <div class="portfoliocard noselect supporter-' + ho.name + '">\
                <div class="coverphoto"></div>\
                <div class="profile_picture profpic-' + ho.name.split(" ")[0] + '"></div>\
                <div class="left_col">\
                    <div class="followers">\
                        <div class="cheers">' + ho.cheers.toString() + '</div>\
                        Cheers\
                    </div>\
                    <div class="following">\
                        <div class="rating">' + ho.rating.toString() + '</div>\
                        Rating\
                    </div>\
                </div>\
                <div class="right_col">\
                    <h2 class="name"> ' + ho.name + ' \
                    </h2>\
                    <h3 class="location"> ' + ho.school + ', CA </h3>\
                    <ul class="contact_information">\
                        <li> <i class="fa fa-briefcase"></i>' + gradtext(ho) + '</li>\
                        <li> <i class="fa fa-send"></i>' + ho.emailAddress + '</li>\
                        <li> <i class="fa fa-user"></i> View Profile</li>\
                    </ul>\
                    <div class="container-1">\
                            <div id="call-morph" class="morph-button morph-button-overlay morph-button-fixed">\
                                <button type="button" id="z-btn">\
                                    <div class="call-btn3" onclick="starttalking(\'' + ho.name + '\')" > <i class="one fa fa-comment"></i>Chat</div>\
                                </button>\
                                <div class="morph-content" id="blue">\
\
                                    <div class="content-style-overlay">\
                                        <span class=" my-close icon-close  fa-stack fa-lg">\
                                            <i class="fa fa-circle-thin fa-stack-2x" id="btn-two"></i>\
                                            <i class="fa fa-close fa-stack-1x" id="btn-one"></i>\
                                        </span>\
                                        <div class="main-content">\
                                            <h2 class="z">Now Chatting to ' + ho.name + '</h2>\
\
                                            <input type="text" placeholder="say something!" class="z client"></input>\
\
                                            <div class="paraz">\
                                            </div>\
                                        </div>\
                                    </div>\
                                </div>\
                                </div>\
                        ' + callme + '\
                    </div>\
                </div>\
            </div>\
  ');
  }
}